define(function(require,exports,module){var t=require("baseView/tableContent"),e=t.extend({initialize:function(){e.__super__.initialize.apply(this,arguments);var t=this,i=t.$(".instruction .num");this.cache={},this.on("checkall.tablelist",function(t){if(t){var e=this.getPageControlOptions().totalNum;i.html(e)}else i.html(0)}),this.on("checkitem.tablelist",function(t){var e=+i.text().trim(),h=t?e+1:e-1;i.html(h)}),this.trigger("refreshdata.tablelist",function(t,e,h,a){i.html(h.data.size)})},_queryByParams:function(){this.shouldChangePageIndex=!1;var t=this.collectParams();this.pageControl.redirect(1,t),this.cache={}},match:function(t,e){var i=this.cache[t],h=null;return i&&(h=_.findWhere(i,{id:e})),h},checkAll:function(t,e){this.allChecked=t,this.trigger("checkall.tablelist",t,e)},checkItem:function(t,e){this.itemChecked=t,this.trigger("checkitem.tablelist",t,e)},polish:function(t){var e=this,i=this.allChecked,h=this.getPageControlOptions().pageIndex,a=this.cache[h];return a||(a=this.cache[h]=t),t.forEach(function(t){var a=e.match(h,t.id);t.isChecked=a?a.isChecked:i}),t}});module.exports=t});