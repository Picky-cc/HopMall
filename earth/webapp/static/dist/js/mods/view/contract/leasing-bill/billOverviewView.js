define(function(require,exports,module){var i=require("baseView/tableContent"),l=require("component/dialogView"),a=require("component/popupTip"),e=Backbone.View.extend({el:$(".bill-detail"),events:{"click .discard-bill":"onDiscard"},initialize:function(){this.dialogView=new l;var i=this;this.dialogView.on("goahead",function(l){i.dialogView.hide(),i.doDiscard(l)})},onDiscard:function(i){i.preventDefault();var l=$(".discard-bill").attr("settlingstatus"),a=$(".discard-bill").attr("billingplanuuid"),e="2"==l||"3"==l;e?this.dialogView.show("账单一旦关闭将不能恢复，是否继续？",a):this.dialogView.show("该账单未付清，一旦关闭将不能恢复，是否继续？",a)},doDiscard:function(i){var l={url:"../leasing-bill-list//batch-close-bills",dataType:"json",type:"post",data:{billingPlanUuidList:JSON.stringify([i])},success:function(i){if(0==i.code){var l=i.data.result?"关闭订单成功！":"关闭订单失败！";a.show(l),$(".discard-bill").addClass("disabled")}else a.show("系统异常，请稍候再试！")}};$.ajax(l)}});exports.BillOverviewView=i,exports.BillDetailView=e,exports.LeasingBillListView=i});