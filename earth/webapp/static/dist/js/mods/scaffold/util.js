define(function(require,exports,module){function e(e){var t=["textarea","input","select"],n=e.is(function(){for(var e=0,n=t.length;n>e;e++)if(a(this).is(t[e]))return!0;return!1});return!!n}function t(t,n){var r=t.data("paramname")||t.data("params")||t.attr("name");if(!r)return null;var i;if(e(t))if(t.is("[type=checkbox]"))i=t.get(0).checked;else if(t.is(".selectpicker")){var o=t.selectpicker("val");i=o?JSON.stringify(o):"[]"}else i=a.trim(t.val());else i=a.trim(t.data("value"));var u={};return""!==i||n?(u[r]=i,u):null}function n(e){return function(t){var n=Math.pow(10,e),r=10*n;return Math.floor((t*r+5)/10)/n}}function r(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}var a=jQuery,i=localStorage,o=encodeURIComponent,u=decodeURIComponent,c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1};exports.localDbUitl={get:function(e){var t=u(i.getItem(o(e)));try{return JSON.parse(t)}catch(n){return console.error(n),t}},set:function(e,t){var n=o(JSON.stringify(t));return i.setItem(o(e),n),n},remove:function(e){var t=this.get(e);return i.removeItem(o(e)),t},clear:function(){i.clear()},push:function(e,t){var n=this.get(e);if(_.isArray(n))return-1==n.indexOf(t)&&n.push(t),this.set(e,n);if(isEmpty(n))return this.set(e,[t]);throw new Error("该项不是数组")}},exports.validateUtil={regExps:{mobile:/^1[3|4|5|7|8][0-9]\d{4,8}$/,number:/^[0-9]+$/,phoneExt:/^(0[0-9]{2,3}-)?([2-9][0-9]{6,7})([*#][0-9]{1,4})?$/,positiveInteger:/^[1-9][0-9]*$/,chineseCharactor:/^[\u4e00-\u9fa5]{1,}$/,englishName:/^[A-Za-z,.]+$/,numberAndAlphabet:/^[A-Za-z0-9]+$/,includeChineseCharactor:/[\u4e00-\u9fa5]{1,}/,includeNumber:/[0-9]/,IDCard:/(^\d{15}$)|(^\d{17}([0-9]|X)$)/,money:/^[0-9]+[\.]?[0-9]{0,3}$/,nonNegativeInteger:/^[0-9]+$/},isIDCardValid:function(e){var t=this.regExps.IDCard.test(e);if(!t)return!1;if(18==e.length){var n=7*(new Number(e.charAt(0))+new Number(e.charAt(10)))+9*(new Number(e.charAt(1))+new Number(e.charAt(11)))+10*(new Number(e.charAt(2))+new Number(e.charAt(12)))+5*(new Number(e.charAt(3))+new Number(e.charAt(13)))+8*(new Number(e.charAt(4))+new Number(e.charAt(14)))+4*(new Number(e.charAt(5))+new Number(e.charAt(15)))+2*(new Number(e.charAt(6))+new Number(e.charAt(16)))+1*new Number(e.charAt(7))+6*new Number(e.charAt(8))+3*new Number(e.charAt(9)),r=n%11,a="10X98765432",i=a.charAt(r);t=i===e.charAt(17)?!0:"A"===e.charAt(17)}return t}},function(e,exports){exports.requestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(function(){e()},16.7)},exports.cancelAnimationFrame=e.cancelAnimationFrame||e.webkitRequestAnimationFrame||e.mozCancelAnimationFrame||e.msRequestAnimationFrame||function(e){clearTimeout(e)}}(window,exports),exports.extractValueFromDifferentDom=function(e,n){var r=t(e,n);return r},exports.reserveNumBit=function(e,t){if(1>t)throw"保留的小数位数至少1位";return n(t)(e)},exports.copyStringWithNum=function(e,t){return new Array(e+1).join(t)},exports.maybeAddPx=function(e,t){return"number"!=typeof e||c[r(t)]?e:e+"px"},exports.execOnceBeforeDone=function(e,t){var n=!1,r=function(){n=!1},a=function(){if(!n){n=!0;var a=Array.prototype.slice.call(arguments,0);a.push(r),e.apply(t||this,a)}};return a},exports.selectText=function(e,t,n){if(null==n&&(n=e.value.length),e.setSelectionRange)e.setSelectionRange(t,n);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}e.focus()},exports.isIE=function(e){return e=e||navigator.userAgent,e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1||e.indexOf("Edge/")>-1},exports.backboneCascadeExtend=function(){return function(e){var t=Backbone.View.extend.apply(this,arguments);return t.prototype.events=_.extend({},this.prototype.events,e.events),t}},exports.delayReload=function(e){return setTimeout(function(){location.reload()},e||1e3)}});