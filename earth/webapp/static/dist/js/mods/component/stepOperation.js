define(function(require,exports,module){var t=require("scaffold/util").backboneCascadeExtend,e=Backbone.View.extend({events:{"click .next":"next","click .prev":"prev"},initialize:function(){this.$tipItems=this.$(".step-tip-item"),this.$contentItems=this.$(".step-content-item"),this.$prevBtn=this.$(".prev"),this.$nextBtn=this.$(".next"),this.stepCount=this.$tipItems.length,this.on("steped",function(t){this.$contentItems.hide(),this.$tipItems.removeClass("z-active"),this.$tipItems.eq(t-1).addClass("z-active"),this.$contentItems.eq(t-1).show(),1===t?(this.$prevBtn.text("取消"),this.$nextBtn.text("下一步")):t===this.stepCount?(this.$prevBtn.text("上一步"),this.$nextBtn.text("确认")):(this.$prevBtn.text("上一步"),this.$nextBtn.text("下一步"))});var t=this.$tipItems.filter(".z-active");0===t.length&&(t=this.$tipItems.first()),this.activate(t.data("index"))},beforeStepInto:function(t,e){return!1},activate:function(t){var e=this.beforeStepInto(this.curStepIndex,t);e||(this.trigger("step",this.curStepIndex,t),this.curStepIndex=t,this.trigger("steped",this.curStepIndex,this.curStepIndex===this.stepCount))},next:function(){return this.curStepIndex>=this.stepCount?void this.trigger("step:done"):void this.activate(this.curStepIndex+1)},prev:function(){return this.curStepIndex<=1?void this.trigger("step:cancel"):void this.activate(this.curStepIndex-1)}});e.extend=t(),module.exports=e});