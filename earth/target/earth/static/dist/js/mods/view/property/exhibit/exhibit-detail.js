define(function(require,exports,module){var t=(require("scaffold/path"),require("component/popupTip")),i=jQuery,e=global_config.root,o=Backbone.View.extend({el:".static-info-wrapper",actions:{publish:e+"/subject-matter/exhibit/publish",rollback:e+"/subject-matter/exhibit/rollback"},events:{"click .publish":"onClickPublish","click .rollback":"onClickRollback"},initialize:function(t){this.subjectMatterUuid=t},onClickPublish:function(i){i.preventDefault();var e=this.subjectMatterUuid;e&&this.postJSON("publish",{leasingSubjectMatterUuid:e},function(i){t.show("成功");setTimeout(function(){location.reload()},1e3)})},onClickRollback:function(i){i.preventDefault();var e=this.subjectMatterUuid;e&&this.postJSON("rollback",{leasingSubjectMatterUuid:e},function(i){t.show("成功");setTimeout(function(){location.reload()},1e3)})},postJSON:function(e,o,c){var a=this.actions[e],n={url:a,type:"post",data:o};n.success=function(i){i=JSON.parse(i),0!=i.code?t.show(i.message):c&&c(i)},i.ajax(n)}});exports.PublishDetailView=o});