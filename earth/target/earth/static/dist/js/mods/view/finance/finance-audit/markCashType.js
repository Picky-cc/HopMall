define(function(require,exports,module){var t=require("component/popupTip"),a=require("baseView/baseFormView").FormDialogView,e=a.extend({template:_.template($("#markCashTypeTmpl").html(),{variable:"obj"}),events:{},initialize:function(t){e.__super__.initialize.apply(this,arguments),this.basicOptions=t.basicOptions,this.defineValidator()},defineValidator:function(){this.validator=this.$(".form").validate({})},validate:function(){return this.validator.form()},onChangeMarkType:function(t){var a=t.target.value;""===a?this.$("[name=journal]").get(0).disabled=!0:this.$("[name=journal]").get(0).disabled=!1},extractDomData:function(){var t=this._extractDomData(this.$(".real-value"),!0);return t.financialAccountAlias=this.$("[name=financialAccountName] :selected").text(),""===t.financialAccountName?(t.lapse=!0,t.financialAccountAlias="æ— "):t.lapse=!1,t},save:function(){var a=this.extractDomData();this.model.saveMarkInfo(a,function(a,e){0!=a.code&&t.show(a.message)})},render:function(){var t=this.model.get("markInfo");t.summary=this.model.get("summary"),t.types=this.model.getMarkTypes(),this.$el.html(this.template(t))},submitHandler:function(t){this.validate()&&(this.save(),this.hide())}});module.exports=e});